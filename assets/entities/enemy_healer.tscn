[gd_scene format=3 uid="uid://d_enemy_healer"]

[ext_resource type="PackedScene" uid="uid://cbia0nf0c58h8" path="res://assets/entities/enemy.tscn" id="1_enemy_base"]
[ext_resource type="Script" uid="uid://c_action_heal" path="res://assets/scripts/action/action_heal.gd" id="2_action_heal"]
[ext_resource type="PackedScene" uid="uid://d_vfx_heal" path="res://assets/entities/vfx/vfx_heal.tscn" id="3_vfx_heal"]

[sub_resource type="ViewportTexture" id="ViewportTexture_1"]
viewport_path = NodePath("SubViewport")

[node name="enemy_healer" unique_id=2000000001 instance=ExtResource("1_enemy_base")]

[node name="move" parent="." index="6" unique_id=2000000002]
detection_range = 7.0
prefered_target_distance = 4.0
move_speed = 0.5
move_back = true

[node name="action_heal" type="Node3D" parent="." index="9" unique_id=2000000003]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.25, 0)
script = ExtResource("2_action_heal")
heal_amount = 2
heal_vfx = ExtResource("3_vfx_heal")
target_filters = Array[String](["enemy"])
action_range = 6.0
action_interval = 4.0
cast_time_s = 0.8
cancel_on_target_out_of_range = true
cancel_on_target_invalid = true
metadata/_custom_type_script = "uid://c_action_heal"

[node name="healthbar" parent="." index="11" unique_id=2000000004]
texture = SubResource("ViewportTexture_1")
