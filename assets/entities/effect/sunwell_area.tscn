[gd_scene format=3 uid="uid://88y7oh2crkih"]

[ext_resource type="PackedScene" uid="uid://dsw2erf0grtoe" path="res://assets/entities/effect/effect_area_base.tscn" id="1_82jwc"]
[ext_resource type="Script" uid="uid://js1fonl8t8xd" path="res://assets/scripts/effects/burn.gd" id="2_ln2xg"]
[ext_resource type="Texture2D" uid="uid://jcn4dosfwb3x" path="res://assets/sprites/particles/holy-ring.png" id="3_phmxc"]
[ext_resource type="Shader" uid="uid://chhmbpudmbca0" path="res://assets/entities/effect/sunwell_area.gdshader" id="4_cxmvd"]

[sub_resource type="Resource" id="Resource_mjiyf"]
script = ExtResource("2_ln2xg")
stackable = true
metadata/_custom_type_script = "uid://js1fonl8t8xd"

[sub_resource type="Curve" id="Curve_82jwc"]
_limits = [-1.0, 1.0, 0.0, 1.0]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_ln2xg"]
curve = SubResource("Curve_82jwc")

[sub_resource type="Curve" id="Curve_buu1m"]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_ktnak"]
curve = SubResource("Curve_buu1m")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_phmxc"]
particle_flag_align_y = true
emission_shape = 6
emission_ring_axis = Vector3(0, 0, 1)
emission_ring_height = 0.5
emission_ring_radius = 1.5
emission_ring_inner_radius = 1.4
emission_ring_cone_angle = 90.0
direction = Vector3(0, 0, 1)
spread = 0.0
initial_velocity_min = 0.5
initial_velocity_max = 1.0
gravity = Vector3(0, 0, 0)
scale_curve = SubResource("CurveTexture_ktnak")
hue_variation_curve = SubResource("CurveTexture_ln2xg")

[sub_resource type="RibbonTrailMesh" id="RibbonTrailMesh_cxmvd"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_8vmh6"]
transparency = 1
cull_mode = 2
albedo_texture = ExtResource("3_phmxc")
uv1_scale = Vector3(20, 1.4, 1)
uv1_offset = Vector3(1, 1.1, 1)

[sub_resource type="CylinderMesh" id="CylinderMesh_ivb0d"]
material = SubResource("StandardMaterial3D_8vmh6")
top_radius = 2.0
bottom_radius = 2.0
height = 0.2
rings = 8
cap_top = false
cap_bottom = false

[sub_resource type="TubeTrailMesh" id="TubeTrailMesh_phmxc"]
radial_steps = 48
sections = 2
section_length = 0.1
cap_top = false
cap_bottom = false

[sub_resource type="ShaderMaterial" id="ShaderMaterial_phmxc"]
render_priority = 0
shader = ExtResource("4_cxmvd")
shader_parameter/sheet = ExtResource("3_phmxc")
shader_parameter/frames = 6.0
shader_parameter/fps = 10.0
shader_parameter/scroll_speed = 1.0
shader_parameter/uv_scale = Vector2(16, 1.5)
shader_parameter/uv_offset = Vector2(0, 0)
shader_parameter/tint = Color(1, 1, 1, 1)

[node name="burn_area" unique_id=1804886747 instance=ExtResource("1_82jwc")]
effect = SubResource("Resource_mjiyf")

[node name="particles" parent="." index="2" unique_id=1130558367]
emitting = false
process_material = SubResource("ParticleProcessMaterial_phmxc")
draw_pass_1 = SubResource("RibbonTrailMesh_cxmvd")

[node name="Sprite3D" type="Sprite3D" parent="." index="4" unique_id=1818335064]
visible = false
texture = ExtResource("3_phmxc")

[node name="MeshInstance3D" type="MeshInstance3D" parent="." index="5" unique_id=1498810285]
visible = false
mesh = SubResource("CylinderMesh_ivb0d")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="." index="6" unique_id=508273503]
mesh = SubResource("TubeTrailMesh_phmxc")
surface_material_override/0 = SubResource("ShaderMaterial_phmxc")

[node name="AnimationPlayer" type="AnimationPlayer" parent="." index="7" unique_id=254103890]

[editable path="detector"]
